{
  "type": "object",
  "required": ["infra"],
  "properties": {
    "infra": {
      "type": "object",
      "oneOf": [
        {
          "required": ["aws"],
          "properties": {
            "aws": {
              "type": "object",
              "required": ["ssh_key"],
              "properties": {
                "ec2_instance_type": {
                  "type": "string",
                  "description": "EC2 instance types used to deploy the COGNIT components",
                  "default": "t2.medium"
                },
                "volume_size": {
                  "type": "integer",
                  "description": "EBS root volume size for the EC2 instances",
                  "default": 125
                },
                "region": {
                  "type": "string",
                  "description": "AWS region used for the deployment",
                  "default": "eu-central-1"
                },
                "ssh_key": {
                  "type": "string",
                  "description": "Name of the SSH in AWS key that will be used to connect to the EC2 instances"
                },
                "ssh_key_path": {
                  "type": "string",
                  "description": "private key path in the SSH client filesystem",
                  "default": "~/.ssh/id_rsa"
                }
              }
            }
          }
        },
        {
          "required": ["hosts"],
          "properties": {
            "hosts": {
              "type": "object",
              "required": ["cloud", "engine", "ai_orchestrator"],
              "properties": {
                "cloud": {
                  "type": "string",
                  "description": "Hostname/IP where the COGNIT will be installed"
                },
                "engine": {
                  "type": "string",
                  "description": "Hostname/IP where the COGNIT will be installed"
                },
                "ai_orchestrator": {
                  "type": "string",
                  "description": "Hostname/IP where the COGNIT will be installed"
                }
              }
            }
          }
        }
      ]
    },
    "cognit": {
      "type": "object",
      "properties": {
        "engine": {
          "type": "object",
          "properties": {
            "port": {
              "type": "integer",
              "description": "Provisioning Engine port",
              "default": 1337
            },
            "version": {
              "type": "string",
              "description": "Git repository HEAD of the Cloud-Edge Manager extensions GitHub repository to use as version reference",
              "default": "main"
            }
          }
        },
        "ai_orchestrator": {
          "type": "object",
          "properties": {
            "version": {
              "type": "string",
              "description": "Git repository HEAD of the Cloud-Edge Manager extensions GitHub repository to use as version reference",
              "default": "main"
            }
          }
        },
        "cloud": {
          "type": "object",
          "required": ["ee_token"],
          "properties": {
            "version": {
              "type": "number",
              "description": "Cloud-Edge Manager version to deploy",
              "default": "6.8"
            },
            "ee_token": {
              "type": "string",
              "description": "Cloud-Edge Manger enterpise edition token"
            }
          }
        }
      }
    },
    "web_ports": {
      "type": "object",
      "properties": {
        "main": {
          "type": "integer",
          "description": "Cloud-Edge Manager stable Web GUI port",
          "default": 9869
        },
        "next_gen": {
          "type": "integer",
          "description": "Cloud-Edge Manager next gen Web UI port",
          "default": 2616
        }
      }
    },
    "extensions": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "description": "Git repository HEAD of the Cloud-Edge Manager extensions GitHub repository to use as version reference",
          "default": 2616
        }
      }
    }
  }
}
